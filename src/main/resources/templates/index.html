<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MM Tobacco | Home</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<div id="ageVerificationModal" class="modal-verification">
    <div class="modal-for-age-verification">
        <h2>‘±÷Ä’§’µ’∏’û÷Ñ ‘¥’∏÷Ç÷Ñ 18 ’ø’°÷Ä’•’Ø’°’∂ ’Ø’°’¥ ’°’æ’•’¨’´ ’¥’•’Æ ’•÷Ñ:</h2>
        <button id="yesBtn">‘±’µ’∏</button>
        <button id="noBtn">’à’π</button>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        let ageVerified = sessionStorage.getItem("ageVerified");
        let modal = document.getElementById("ageVerificationModal");
        let yesBtn = document.getElementById("yesBtn");
        let noBtn = document.getElementById("noBtn");

        if (!modal || !yesBtn || !noBtn) {
            console.error("‚ùå Age verification modal elements not found!");
            return;
        }

        if (!ageVerified) {
            modal.style.display = "flex";
        } else {
            modal.style.display = "none";
        }

        yesBtn.addEventListener("click", function () {
            sessionStorage.setItem("ageVerified", "true");
            modal.style.display = "none";
        });

        noBtn.addEventListener("click", function () {
            window.location.href = "/age-restricted";
        });
    });
</script>

<header class="header">
    <div class="container">
        <h1 class="logo"><a href="/index">MM Tobacco</a></h1>
        <nav class="nav">
            <ul>
                <li><a href="/api/catalogue">’è’•’Ω’°’Ø’°’∂’´</a></li>
                <li><a href="/api/contact">‘ø’°’∫ ’¥’•’¶ ’∞’•’ø</a></li>
            </ul>
        </nav>
        <div class="cart-language">
            <a href="/api/cart" class="cart-icon">üõí</a>
            <select name="" id="select">
<!--                <option value="">ENG</option>-->
<!--                <option value="">RUS</option>-->
                <option value="" selected>ARM</option>
            </select>

        </div>
    </div>
</header>

<section class="hero">
    <h2>‘≤’°÷Å’°’∞’°’µ’ø’•÷Ñ ’∏÷Ä’°’Ø’®</h2>
    <p>‘µ’æ÷Ä’∏’∫’°’Ø’°’∂ ’Æ’≠’°’≠’∏’ø’´ ’°’¥’•’∂’°’¢’°÷Ä’±÷Ä ’∏÷Ä’°’Ø’´ ’ø’•’Ω’°’Ø’°’∂’´’∂÷â<br>
        ‘≤’°÷Å’°’º’´’Ø ’°’º’°’ª’°÷Ä’Ø’∂’•÷Ä ’•’¶’°’Ø’´ ÷á ’∫’°’∞’°’∂’ª’Ø’∏’ø ’∞’°’≥’°’≠’∏÷Ä’§’∂’•÷Ä’´ ’∞’°’¥’°÷Ä÷â</p>
    <a href="/api/catalogue" class="hero-btn">’ä’°’ø’æ’´÷Ä’•÷Ñ ’∞’´’¥’°</a>
</section>

<div class="latest-arrivals-section">
    <h2>’Ñ’•÷Ä ’¥’°’Ω’´’∂</h2>
</div>
<section class="about-us">
    <div class="left-col"></div>
    <div class="right-col">
        <p>‘≤’°÷Ä’´ ’£’°’¨’∏÷Ç’Ω’ø MM Tobacco-’´ ’∫’°’∑’ø’∏’∂’°’Ø’°’∂ ’Ø’°’µ÷Ñ÷â ’Ñ’•’∂÷Ñ ’£’∂’°’∞’°’ø’∏÷Ç’¥
            ’•’∂÷Ñ ’Å’•÷Ä ’°’µ÷Å’•’¨’∏÷Ç’©’µ’∏÷Ç’∂’® ÷á ’£’´’ø’°’Ø÷Å’∏÷Ç’¥ ’•’∂÷Ñ, ’∏÷Ä ‘¥’∏÷Ç÷Ñ ÷É’∂’ø÷Ä’∏÷Ç’¥ ’•÷Ñ
            ’°’æ’°’∂’§’°’Ø’°’∂ ’Æ’≠’°’≠’∏’ø’´ ’°’º’°’∂’±’∂’°’∞’°’ø’∏÷Ç’Ø ’°’µ’¨’®’∂’ø÷Ä’°’∂÷Ñ÷â ’à÷Ä’∫’•’Ω ’¥’´ ÷Ñ’°’∂’´
            ’°’º’°’ª’°’ø’°÷Ä ’•’æ÷Ä’∏’∫’°’Ø’°’∂ ’Æ’≠’°’≠’∏’ø’°’µ’´’∂ ’®’∂’Ø’•÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’¢’°÷Å’°’º’´’Ø
            ’∂’•÷Ä’Ø’°’µ’°÷Å’∏÷Ç÷Å’´’π ’Ä’°’µ’°’Ω’ø’°’∂’∏÷Ç’¥, ’¥’•÷Ä ’∞’´’¥’∂’°’Ø’°’∂ ’∏÷Ç’∑’°’§÷Ä’∏÷Ç’©’µ’°’∂
            ’Ø’•’∂’ø÷Ä’∏’∂’∏÷Ç’¥ ’ß ‘µ’æ÷Ä’∏’∫’°’µ’´÷Å ’¢’°÷Ä’±÷Ä’°’Ø’°÷Ä’£ ’Æ’≠’°’≠’∏’ø’°’µ’´’∂ ’°÷Ä’ø’°’§÷Ä’°’∂÷Ñ’´
            ’∂’•÷Ä’¥’∏÷Ç’Æ’∏÷Ç’¥’®÷â 2020 ’©’æ’°’Ø’°’∂’´’∂ ’¥’•÷Ä ’∞’´’¥’∂’°’§÷Ä’∏÷Ç’¥’´÷Å ’´ ’æ’•÷Ä ’¥’•’∂÷Ñ
            ’¥’∑’ø’°’∫’•’Ω ’©’°÷Ä’¥’°÷Å÷Ä’•’¨ ’•’∂÷Ñ ’¥’•÷Ä ’∫’∏÷Ä’ø÷Ü’∏’¨’´’∏’∂ ÷á ’®’∂’§’¨’°’µ’∂’•’¨ ’º’°’¶’¥’°’æ’°÷Ä’°’Ø’°’∂
            ’£’∏÷Ä’Æ’®’∂’Ø’•÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ÷Å’°’∂÷Å’®’ù ’°’∫’°’∞’∏’æ’•’¨’∏÷Ç ’∞’°’¥’°÷Ä ’°’¥’•’∂’°’¢’°÷Ä’±÷Ä
            ’∏÷Ä’°’Ø’´ ’°’º’°’ª’°÷Ä’Ø’∂’•÷Ä’®÷â</p>
    </div>
</section>

<section class="latest-arrivals">
    <div class="latest-arrivals-section">
        <h2>’Ü’∏÷Ä ’ø’•’Ω’°’Ø’°’∂’´</h2>
    </div>
    <div class="product-grid">
        <div class="product-card" th:each="product : ${latestProducts}" th:data-id="${product.id}">
            <div class="product-image">
                <img th:src="${product.imageUrl}" alt="Product Image">
            </div>
            <h3 th:text="${product.name}"></h3>
            <p th:text="${product.price} + ' ‘¥'"></p>
        </div>
    </div>
</section>

<footer class="footer">
    <div class="footer-container">
        <div class="newsletter">
            <div class="newsletter-containter">
                <h3>‘≥÷Ä’°’∂÷Å’æ’•÷Ñ ’¥’•÷Ä ’∂’∏÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∞’°’¥’°÷Ä</h3>
                <p>‘±’º’°’ª’´’∂’® ’ø’•’≤’•’Ø’°÷Å’•÷Ñ ’∞’°’ø’∏÷Ç’Ø ’°’º’°’ª’°÷Ä’Ø’∂’•÷Ä’´, ’∂’∏÷Ä ’°’∫÷Ä’°’∂÷Ñ’∂’•÷Ä’´ ÷á ’¥’´’ª’∏÷Å’°’º’∏÷Ç’¥’∂’•÷Ä’´ ’¥’°’Ω’´’∂÷â</p>
            </div>

            <form action="/api/newsletter" method="post">
                <input class="input-area" type="email" name="email" placeholder="’Ñ’∏÷Ç’ø÷Ñ’°’£÷Ä’•÷Ñ ’Å’•÷Ä Mail-’®" required>
                <button type="submit" class="btn">‘≥÷Ä’°’∂÷Å’æ’•’¨</button>
            </form>

            <p th:if="${message}" style="color: green;">[[${message}]]</p>
            <p th:if="${error}" style="color: red;">[[${error}]]</p>
        </div>
        <div class="map" id="map" style="width: 100%; height: 300px;"></div>
        <script src="https://api-maps.yandex.ru/2.1/?lang=en_RU" type="text/javascript"></script>
        <script>
            ymaps.ready(function () {
                var myMap = new ymaps.Map('map', {
                    center: [40.808044, 44.494538],
                    zoom: 20
                });

                var myPlacemark = new ymaps.Placemark([40.808044, 44.494538], {
                    hintContent: 'MM Tobacco',
                    balloonContent: 'MM Tobacco location'
                });
                myMap.geoObjects.add(myPlacemark);

                function centerMap(newCoords) {
                    myMap.setCenter(newCoords);
                    myPlacemark.geometry.setCoordinates(newCoords);
                }
            });
        </script>
    </div>
</footer>

<div id="productModal" class="modal hidden">
    <div class="modal-content">
        <span class="close-btn">‚ùå</span>
        <div id="modalDetails"></div>
    </div>
</div>

<script src="/js/script.js"></script>
</body>
</html>
